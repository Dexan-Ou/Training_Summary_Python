{% extends "index_page/base.html" %}

{% block content %}

<div class="section">
	<h2>{{ contest.name }}</h2>
	<table cellpadding="10">
		<tr>
			<th>Source</th>
			<th>{{ contest.source }}</th>
		</tr>
		<tr>
			<th>Date</th>
			<th>{{ contest.date | date:"Y-m-d"  }}</th>
		</tr>
		<tr>
			<th>Problems</th>
			<th>{{ contest.num_of_problem }}</th>
		</tr>
		<tr>
			<th>Link</th>
			<th><a href="{{ contest.contest_link }}">{{ contest.contest_link }}</a></th>
		</tr>
	</table>
	<!-- <dl>
		<dt>Source:</dt>
		<dd>{{ contest.source }}</dd>
		<dt>Start Time:</dt>
		<dd>{{ contest.date | date:"Y-m-d" }}</dd>
		<dt>Number of Problems:</dt>
		<dd>{{ contest.num_of_problem }}</dd>
		<dt>Link:</dt>
		<dd><a href="{{ contest.contest_link }}">Contest Link</a></dd>
	</dl> -->

	<div style="text-align:right">
		<a class="btn btn-sm btn-primary" href="{% url 'summary:add_status' user.id contest.id %}">Add/Edit Summary</a>
		<a class="btn btn-sm btn-primary" href="{% url 'contests:edit_contest' contest.id %}">Edit Contest</a>
	</div>
</div>

<div class="section">
	<h4>Contest Result</h4>
	<table class="table" id="result_table">
		<thead>
			<tr>
				<th scope="col">Team</th>
				{% for i in problem %}
				<th scope="col">{{ i }}</th>
				{% endfor %}
				<th scope="col">Summary</th>
			</tr>
		</thead>
		<tbody>
			{% for i in summarylist %}
			<tr>
				<th><a href="{% url 'users:show_user' i.head %}">{{ i.tail }}</a></th>
				{% for j in i.body %}
				<th>
					<p style="{{ j.0|yesno:'color:green;,color:red;,color:blue;' }}">
						{{ j.1 }}
					</p>
				</th>
				{% endfor %}
				<th><a href="{% url 'summary:display_status' i.head contest.id %}">View</a></th>
			</tr>
			{% empty %}
			<tr>
				<th> No Status have been added yet. </th>
			</tr>
			{% endfor %}
		</tbody>
			
	</table>
</div>


{% endblock content %}


